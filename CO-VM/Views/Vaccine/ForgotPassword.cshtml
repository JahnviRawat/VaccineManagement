@model CO_VM.Controllers.ForgotPasswordViewModel

@{
    ViewBag.Title = "Forgot Password";
}

<style>
    body {
        min-height: 100vh;
        background: linear-gradient(135deg, #e3f0ff 0%, #b6d0f7 50%, #f8fbff 100%);
        font-family: 'Segoe UI', Arial, sans-serif;
    }
    .forgot-password-container {
        margin-top: 60px;
    }
    .card {
        border-radius: 18px;
        border: none;
        box-shadow: 0 6px 32px 0 rgba(44, 62, 80, 0.10);
        background: #fff;
    }
    .card-header {
        border-radius: 18px 18px 0 0;
        background: linear-gradient(90deg, #1976d2 60%, #64b5f6 100%);
        color: #fff;
        text-align: center;
        padding: 1.5rem 1rem;
    }
    .card-header h4 {
        font-weight: 600;
        letter-spacing: 1px;
    }
    .form-label {
        font-weight: 500;
        color: #1976d2;
    }
    .form-control {
        border-radius: 8px;
        border: 1px solid #b6d0f7;
        box-shadow: none;
        transition: border-color 0.2s;
    }
    .form-control:focus {
        border-color: #1976d2;
        box-shadow: 0 0 0 2px #e3f0ff;
    }
    .btn-primary {
        background: linear-gradient(90deg, #1976d2 60%, #64b5f6 100%);
        border: none;
        border-radius: 8px;
        font-weight: 600;
        letter-spacing: 1px;
        transition: background 0.2s;
    }
    .btn-primary:hover {
        background: linear-gradient(90deg, #1565c0 60%, #42a5f5 100%);
    }
    .alert-danger {
        border-radius: 8px;
        font-size: 0.98rem;
    }
</style>

<div class="container forgot-password-container">
    <div class="row justify-content-center">
        <div class="col-md-7 col-lg-6">
            <div class="card shadow-sm">
                <div class="card-header">
                    <h4 class="mb-0">Forgot Password</h4>
                </div>
                <div class="card-body px-4 py-4">
                    <form method="post" asp-action="ForgotPassword" autocomplete="off">
                        <div class="mb-4">
                            <label class="form-label">Username</label>
                            <input type="text" name="Username" class="form-control" value="@ViewBag.Username" required autofocus />
                        </div>

                        @if (ViewBag.SecurityQuestion != null)
                        {
                            <div class="mb-4">
                                <label class="form-label">Security Question</label>
                                <input type="text" class="form-control" value="@ViewBag.SecurityQuestion" disabled />
                                <input type="hidden" name="SecurityQuestion" value="@ViewBag.SecurityQuestion" />
                            </div>
                            <div class="mb-4">
                                <label class="form-label">Your Answer</label>
                                <input type="text" name="SecurityAnswer" class="form-control" value="@ViewBag.SecurityAnswer" required />
                            </div>
                        }

                        @if (ViewBag.AnswerVerified == true)
                        {
                            <div class="mb-4">
                                <label class="form-label">New Password</label>
                                <input type="password" name="NewPassword" class="form-control" required />
                            </div>
                        }

                        <button type="submit" class="btn btn-primary w-100 py-2">Submit</button>

                        @if (ViewBag.Error != null)
                        {
                            <div class="alert alert-danger mt-3">@ViewBag.Error</div>
                        }
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
